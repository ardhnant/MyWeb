<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lecture - 8 | Homework</title>
</head>
<body>

  <p>
    This is a game which is k/a Heads or Tails
  </p>
  <p>
    Choose your weapon
    <button onclick="playGame('head')">Heads</button>
    <button onclick="playGame('tail')">Tails</button>
    <button onclick="resetScore()">Reset</button>
  </p>

  <script>

    let score = JSON.parse(localStorage.getItem('score')) || {
      win: 0,
      lose: 0
    };


    function playGame(playerMove){
      let computerMove = pickComputerMove();
      let result;
      if(playerMove === computerMove){
        result = 'win';
      } else {
        result = 'lose';
      };

      if(result === 'win'){
        score.win += 1;
      } else {
        score.lose += 1;
      };

      localStorage.setItem('score', JSON.stringify(score));

      alert(`You choose to play ${playerMove} and the coin shows ${computerMove}. You ${result}.
Win: ${score.win} Defeat: ${score.lose}`);
    }

    function resetScore(){
      score = {
        win: 0,
        lose: 0
      };
      localStorage.removeItem('score')

      alert('Your score has been reset.')
    }

    function pickComputerMove(){
      const randomNum = Math.random();
      if (randomNum < 1/2){
        return 'head';
      } else {
        return 'tail';
      }
    }
    
  </script>
</body>
</html>